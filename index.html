<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StrapScan</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.6/dist/signature_pad.umd.min.js"></script>
  <script defer src="script.js"></script>
</head>
<body>
  <div class="flex-wrapper">
    <div class="ai-inspector">

      <!-- Header Banner -->
      <div class="strapscan-header">
        <img src="https://i.imgur.com/xCVtL06.jpeg" alt="StrapScan Banner" />
      </div>

      <!-- Intro Text -->
      <div class="subtext">
        <p><strong>StrapScan – AI-Powered Tie-Down Inspection Tool</strong></p>
        <ul>
          <li>Select webbing material, width, and strap type.</li>
          <li>Upload a clear image of the ID tag and the area to inspect.</li>
          <li>StrapScan will provide a region-specific compliance review.</li>
        </ul>
      </div>

      <!-- Dropdowns -->
      <div class="row three-col">
        <div class="third">
          <label for="material">Webbing Material</label>
          <select id="material">
            <option>Polyester</option>
            <option>Nylon</option>
          </select>
        </div>
        <div class="third">
          <label for="width">Webbing Width</label>
          <select id="width">
            <option value="1">1 inch</option>
            <option value="2">2 inch</option>
            <option value="3">3 inch</option>
            <option value="4">4 inch</option>
          </select>
        </div>
        <div class="third">
          <label for="use">Product Type</label>
          <select id="use">
            <option>Ratchet Strap</option>
            <option>Winch Strap</option>
            <option>Logistic Strap</option>
          </select>
        </div>
      </div>

      <!-- Image Uploads -->
      <div class="row">
        <div class="half">
          <label for="damageUpload">ID Tag Upload</label>
          <input type="file" id="damageUpload" accept="image/*" />
        </div>
        <div class="half">
          <label for="secondaryUpload">Damage Area Upload</label>
          <input type="file" id="secondaryUpload" accept="image/*" />
        </div>
      </div>

      <!-- Standards -->
      <div class="row">
        <div class="full-width">
          <label>Inspection Standards</label>
          <div class="standards-wrapper">
            <div id="standardsBox" class="standards-note"></div>
          </div>
        </div>
      </div>

      <!-- Image Previews + Results -->
      <div class="row" id="previewRow" style="display: none;">
        <div class="half">
          <label>Preview – ID Tag</label>
          <div class="preview-box">
            <img id="damagePreview" class="preview" alt="ID Tag Preview" />
          </div>
          <div class="result-box" id="idTagResultBox"></div>
        </div>
        <div class="half">
          <label>Preview – Damage Area</label>
          <div class="preview-box">
            <img id="secondaryPreview" class="preview" alt="Damage Preview" />
          </div>
          <div class="result-box" id="damageResultBox"></div>
        </div>
      </div>

      <!-- Run Inspection -->
      <button onclick="showResult()">Run Inspection</button>
      <div id="processingMessage" style="display:none; font-weight:bold; margin-top:10px;">
        Processing images, please wait...
      </div>

      <!-- Signature + Note -->
      <div class="row" style="margin-top: 25px;">
        <div class="half">
          <label for="signatureCanvas">Digital Signature</label>
          <canvas id="signatureCanvas"></canvas>
          <button type="button" id="clearSignatureBtn">Clear Signature</button>
        </div>
        <div class="half signature-note">
          <p style="margin-top: 10px;">
            If you would like your PDF inspection report to include an electronic signature, please sign in the box provided before downloading.
            Signed reports can help support documentation in compliance and safety audits.
            <br><br>
            <strong>Note:</strong> If the ID tag is missing or unreadable, the inspection report cannot be definitively linked to a specific strap.
            Traceability may not be guaranteed.
          </p>
        </div>
      </div>

      <!-- Download Button -->
      <button id="downloadPdfBtn" style="display:none;">Download FREE PDF Report</button>

      <!-- Disclaimer -->
      <div class="disclaimer-box">
        <strong>Disclaimer:</strong><br>
        StrapScan is an AI-powered inspection aid intended solely for preliminary visual assessment of synthetic tie-down straps.
        It is not a certified inspection tool and must not be used as the sole basis for determining product safety, compliance, or serviceability.
        All final decisions must be made by a qualified person in accordance with applicable regulations and manufacturer specifications.
      </div>

    </div>
  </div>
</body>
</html>
