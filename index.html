<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StrapScan</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.6/dist/signature_pad.umd.min.js"></script>
  <script defer src="script.js"></script>
</head>
<body>
  <div class="flex-wrapper">
    <div class="ai-inspector">

      <!-- Header Banner -->
      <div class="strapscan-header">
        <img src="https://i.imgur.com/xCVtL06.jpeg" alt="StrapScan Banner" />
      </div>

      <!-- Intro Text -->
      <div class="subtext" style="margin-top: 1rem;">
        <p><strong>StrapScan – AI-Powered Tie-Down Inspection Tool</strong></p>
        <ul style="margin: 0.5rem 0 0.5rem 1.25rem; padding: 0; list-style-type: disc;">
          <li style="margin-bottom: 0.4rem;">Select the webbing material, width, and product type.</li>
          <li style="margin-bottom: 0.4rem;">Upload a clear photo of the ID tag and damage area.</li>
          <li style="margin-bottom: 0.4rem;">StrapScan uses AI to analyze condition and compliance within seconds.</li>
        </ul>
      </div>

<!-- Webbing Details: Material + Width + Product Type -->
<div class="row three-cols">
  <div class="third">
    <label for="material">Webbing Material</label>
    <select id="material">
      <option>Polyester</option>
      <option>Nylon</option>
    </select>
  </div>
  <div class="third">
    <label for="width">Webbing Width</label>
    <select id="width">
      <option>1 inch</option>
      <option>2 inch</option>
      <option>3 inch</option>
      <option>4 inch</option>
    </select>
  </div>
  <div class="third">
    <label for="use">Product Type</label>
    <select id="use">
      <option>Ratchet Strap</option>
      <option>Winch Strap</option>
      <option>Logistic Strap</option>
    </select>
  </div>
</div>

      <!-- Image Uploads -->
      <div class="row">
        <div class="half">
          <label for="damageUpload">ID Tag Upload (Required)</label>
          <input type="file" id="damageUpload" accept="image/*" />
        </div>
        <div class="half">
          <label for="secondaryUpload">Analysis Image (Required)</label>
          <input type="file" id="secondaryUpload" accept="image/*" />
        </div>
      </div>

      <!-- Standards Info -->
      <div class="row">
        <div class="full-width">
          <label>Inspection Standards</label>
          <div class="standards-wrapper">
            <div id="standardsBox" class="standards-note"></div>
          </div>
        </div>
      </div>

      <!-- Image Previews + Dual AI Results -->
      <div class="row" id="previewRow" style="display: none;">
        <div class="half">
          <label>Preview – ID Tag</label>
          <div class="preview-box">
            <img id="damagePreview" class="preview" alt="ID Tag Preview" />
          </div>
          <div class="result-box" id="idTagResultBox"></div>
        </div>
        <div class="half">
          <label>Preview – Damage Area</label>
          <div class="preview-box">
            <img id="secondaryPreview" class="preview" alt="Damage Area Preview" />
          </div>
          <div class="result-box" id="damageResultBox"></div>
        </div>
      </div>

      <!-- Run Inspection -->
      <button onclick="showResult()">Run Inspection</button>
      <div id="processingMessage" style="display:none;margin-top:10px;font-weight:bold;">
        Processing image, please wait...
      </div>

      <!-- Signature Capture -->
      <div class="row" style="margin-top: 15px; align-items: stretch;">
        <div class="half" style="display: flex; flex-direction: column;">
          <label for="signatureCanvas">Digital Signature</label>
          <canvas id="signatureCanvas" width="400" height="100" style="width: 100%; height: 100px; border: 1px solid #bbb; border-radius: 6px; background-color: #fff;"></canvas>
          <button type="button" id="clearSignatureBtn"
            style="margin-top: 10px; background-color: #888; color: #fff; border: none; padding: 8px 12px; border-radius: 6px; font-size: 13px; cursor: pointer;">
            Clear Signature
          </button>
        </div>
        <div class="half signature-note">
          <p>
            If you would like your PDF inspection report to include an electronic signature, please sign in the box provided before downloading. Signed reports can help support documentation in compliance and safety audits.
          </p>
          <br />
          <p>
            <strong>Note:</strong> If the ID tag is missing or unreadable, the inspection report cannot be definitively linked to a specific strap. Traceability may not be guaranteed.
          </p>
        </div>
      </div>

      <!-- PDF Button -->
      <button id="downloadPdfBtn" style="display: none;">Download FREE PDF Report</button>

      <!-- Disclaimer -->
      <div class="disclaimer-box">
        <strong>Disclaimer:</strong><br>
        StrapScan is an AI-powered inspection tool for preliminary assessments of synthetic tie-downs. It is not a certified inspection device. Final decisions must be made by qualified personnel under local regulations.
      </div>

    </div>
  </div>
</body>
</html>
