<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>StrapScan</title>
  <link rel="stylesheet" href="style.css" />

  <!-- jsPDF for PDF export functionality -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Signature Pad for capturing signatures -->
  <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.6/dist/signature_pad.umd.min.js"></script>

  <!-- Custom app script -->
  <script defer src="script.js"></script>
</head>
<body>
  <div class="flex-wrapper">
    <div class="ai-inspector">
      
      <!-- Header Banner -->
      <div class="strapscan-header">
        <img src="https://i.imgur.com/xCVtL06.jpeg" alt="StrapScan Banner" />
      </div>

      <!-- Instructions -->
      <div class="subtext" style="margin-top: 1rem;">
        <p><strong>StrapScan Instructions:</strong></p>
        <ul style="margin: 0.5rem 0 0.5rem 1.25rem; padding: 0; list-style-type: disc;">
          <li style="margin-bottom: 0.4rem;">
            Upload a clear image of your strap, sling, or identification tag for instant AI-powered inspection.
          </li>
          <li style="margin-bottom: 0.4rem;">
            Be sure to select the appropriate inspection type. "damage analysis" or "label verification" to ensure optimal accuracy.
          </li>
        </ul>
        <p style="margin-top: 0.6rem;">
          StrapScan applies advanced machine learning algorithms aligned with U.S. and Canadian safety standards to deliver a pass/fail result in seconds.
        </p>
      </div>

      <!-- Webbing Material + Product Type -->
      <div class="row">
        <div class="half">
          <label for="material">Webbing Material</label>
          <select id="material">
            <option>Polyester</option>
            <option>Nylon</option>
            <option>Polypropylene</option>
            <option>Other</option>
          </select>
        </div>

        <div class="half">
          <label for="use">Product Type</label>
          <select id="use" onchange="showStandards()">
            <option>Tie Down / Ratchet Strap</option>
            <option>Tow Strap / Recovery Strap</option>
            <option>Lifting Sling</option>
          </select>
        </div>
      </div>

      <!-- Region + Inspection Type -->
      <div class="row">
        <div class="half">
          <label for="region">Region</label>
          <select id="region" onchange="showStandards()">
            <option value="us">United States</option>
            <option value="ca">Canada</option>
          </select>
        </div>

        <div class="half">
          <label for="inspectionType">Inspection Type</label>
          <select id="inspectionType">
            <option value="damage" selected>Damage Analysis</option>
            <option value="tag">Label Verification</option>
          </select>
        </div>
      </div>

      <!-- Upload + Standards -->
      <div class="row">
        <div class="half">
          <label for="damageUpload">Upload Photo (Required)</label>
          <input type="file" id="damageUpload" accept="image/*" />
        </div>

        <div class="half">
          <div class="standards-wrapper">
            <div id="standardsBox" class="standards-note"></div>
          </div>
        </div>
      </div>

      <!-- Preview -->
      <div class="row">
        <div class="full-width">
          <label>Preview</label>
          <img id="damagePreview" class="preview" />
        </div>
      </div>

      <!-- Signature -->
      <div class="row signature-section">
        <div class="full-width">
          <label for="signatureCanvas">Digital Signature (Required for PDF)</label>
          <div class="signature-pad-wrapper">
            <canvas id="signatureCanvas" width="600" height="150"></canvas>
            <button type="button" id="clearSignatureBtn">Clear Signature</button>
          </div>
        </div>
      </div>

      <!-- Inspection Button -->
      <button onclick="showResult()">Run Inspection</button>
      <div id="processingMessage" style="display:none;margin-top:10px;font-weight:bold;">
        Processing image, please wait...
      </div>

      <!-- AI Result -->
      <div class="result-box" id="resultBox"></div>

      <!-- Download PDF -->
      <button id="downloadPdfBtn" style="display: none;">Download FREE PDF Report</button>

      <!-- Disclaimer -->
      <div class="disclaimer-box">
        <strong>Disclaimer:</strong><br>
        StrapScan is an AI-assisted tool designed to support preliminary visual assessments of straps and slings. It does not replace a certified inspection. Final decisions must be made by a qualified professional under applicable standards.
      </div>
      
    </div>
  </div>
</body>
</html>
